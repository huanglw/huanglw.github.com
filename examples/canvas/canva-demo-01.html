<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas demo-01</title>
</head>

<body>
	<canvas id="drawing" width="1000" height="500">This is a canvas</canvas>
</body>

<script type="text/javascript">
  var drawing = document.getElementById("drawing");
  if(drawing.getContext){
    //获取canvas的上下文
    var context = drawing.getContext('2d');
    //到现在为止canvas里面还是没有东西的
    //如果需要在canvas中画东西获取上下文之后，进行下面的操作
    context.moveTo(0,250);
    context.strokeRect(0,0,1000,500);

    /**
     * 注释代码，由下面代码替换
     */
    // for(var i =0; i<1000; i++){
    //   var lon = 3*i;
    //   var lat = 250+Math.sin(i/10)*100;
    //   context.lineTo(lon,lat);
    // }
    // context.strokeStyle = "#0000ff";
    // context.stroke();
    // context.fillStyle = "#0000ff";
    /**
     * 注释代码，由下面代码替换
     */

    //------------开始--------------替换上面的代码，生成动画效果
    var timer = window.setInterval(function(){
      run(context);
    },100);
    //i:表示横坐标
    var i = 0;

    function run(ctx){
      console.log("i:"+i);
      //条件限制
      if(i==50){
        console.log("lllll");
        window.clearInterval(timer);
      }
      //限制条件
      // while(i==160){
      //   window.clearInterval(timer);
      // }
      var lon = 3*i;
      var lat = 250+Math.sin(i/10)*100;
      ctx.lineTo(lon,lat);
      ctx.strokeStyle = "#0000ff";
      ctx.stroke();
      ctx.fillStyle = "#0000ff";
      i = i+1;
        
    }
    //-------------结束----------替换上面的代码，生成动画效果

  }else{
    console.log("Browser is not supported!");
  }
</script>

</html>
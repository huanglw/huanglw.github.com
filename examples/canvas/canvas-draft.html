<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas demo-02</title>
  <style>
    #drawing{background:black;}
  </style>
</head>

<body>
	<canvas id="drawing" width="500" height="500">This is a canvas</canvas>
</body>

<script type="text/javascript">
  var drawing = document.getElementById("drawing");
  if(drawing.getContext){
    //获取canvas的上下文
    var context = drawing.getContext('2d');
    //到现在为止canvas里面还是没有东西的
    //如果需要在canvas中画东西获取上下文之后，进行下面的操作
    context.moveTo(0,250);
    context.strokeRect(0,0,500,500);


    // for(var i =0; i<1000; i++){
    //   var lon = Math.random()*500;
    //   var lat = Math.random()*500;
    //   context.lineTo(lon,lat); 
    //   //drawingDelay(context);
    //   console.log(i); 
      
    // }
    // context.strokeStyle = "#0000ff";
    // context.stroke();
    // context.fillStyle = "#0000ff";

    //------------开始--------------替换上面的代码，生成动画效果
    var timer = window.setInterval(function(){
      run(context);
    },500);
    //i:表示横坐标
    var i = 0;
    var lon01 = 0;
    var lat01 = 50;
    var lon02 = 50;
    var lat02 = 250;
    
    function run(ctx){
      console.log("i:"+i);
      //条件限制
      // if(i==500){
      //   console.log("lllll");
      //   window.clearInterval(timer);
      // }
      //限制条件
      while(i==50){
        window.clearInterval(timer);
        break;
      }
      
      ctx.quadraticCurveTo(lon01,lat01,lon02,lat02);
      ctx.strokeStyle = "#ffffff";
      ctx.stroke();
      ctx.fillStyle = "#ffffff";
      i = i+1;
      lon01 += 50;
      lon02 += 50;
        
    }
    //-------------结束----------替换上面的代码，生成动画效果

  }else{
    console.log("Browser is not supported!");
  }

</script>

</html>